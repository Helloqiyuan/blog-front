import{B as I}from"./Banner-7UILtPzY.js";import{B as M}from"./Block-BwnLFVX8.js";import"./utils-D3L-YqOM.js";import{d as R,p as f,H as S,q as j,v as z,x as J,c,b as l,a as s,w as t,F as K,r as T,e as d,n as o,B as r,I as v,J as E,u as G,l as O,K as P,L as Q,t as F,E as x,o as q,_ as W}from"./index-26bRK5e0.js";import{g as X,i as Y}from"./index-Cp3lKWJ8.js";import"./request-DEdR8Geo.js";const Z={class:"friend-link-content","element-loading-background":"rgba(255, 255, 255, 1)","element-loading-text":"正在全力加载中..."},$={class:"sub-title"},h={class:"require"},ee={class:"friend-link-list"},le=["href"],te={class:"main"},ae=["src"],ne={class:"description"},se=R({__name:"index",setup(oe){const g=f(!1),a=S({name:"",url:"",img:"",description:"",authorEmail:""}),w=f(),B=async()=>{const _=await X();w.value=_.data},u=f(),V=f(!1),b=f(!1),C={name:[{required:!0,message:"请填写网站名称",trigger:"blur"}],authorEmail:[{required:!0,type:"email",message:"请填写有效邮箱",trigger:"blur"}],url:[{required:!0,message:"请输入网站地址",trigger:"blur"}],description:[{required:!0,message:"请输入网站描述",trigger:"blur"}],img:[{required:!0,message:"请上传网站图标",trigger:"blur"}]},D=()=>{g.value=!0},y=()=>{g.value=!1,u.value&&u.value.clearValidate&&u.value.clearValidate()},L=()=>{a.name="",a.url="",a.img="",a.description="",a.authorEmail="",u.value&&u.value.resetFields&&u.value.resetFields()},U=()=>{u.value?.validate(async _=>{if(_){V.value=!0;try{const e=await Y(a);e.code===1?(x.success("申请成功"),y(),L()):x.error(e.message)}catch(e){x.error("申请异常"+e)}finally{V.value=!1}}})};return j(async()=>{b.value=!0,await B(),b.value=!1}),(_,e)=>{const i=d("el-icon"),k=d("el-button"),p=d("el-input"),m=d("el-form-item"),A=d("el-form"),N=d("el-dialog"),H=J("loading");return z((q(),c("div",Z,[l(I,null,{title:t(()=>[...e[6]||(e[6]=[o("友情链接",-1)])]),subtitle:t(()=>[...e[7]||(e[7]=[o("如果你去抢银行，不论成功还是失败，未来十年内你都不用再上班。",-1)])]),_:1}),l(M,{class:"friend-link-explain"},{title:t(()=>[...e[8]||(e[8]=[o("友链说明 ",-1)])]),content:t(()=>[s("div",$,[s("span",null,[e[9]||(e[9]=o("经常宕机 ",-1)),l(i,null,{default:t(()=>[l(r(v))]),_:1})]),s("span",null,[e[10]||(e[10]=o("不合法规",-1)),l(i,null,{default:t(()=>[l(r(v))]),_:1})]),s("span",null,[e[11]||(e[11]=o("擦边球站 ",-1)),l(i,null,{default:t(()=>[l(r(v))]),_:1})]),s("span",null,[e[12]||(e[12]=o("红标报毒",-1)),l(i,null,{default:t(()=>[l(r(v))]),_:1})]),s("span",null,[e[13]||(e[13]=o("原创优先",-1)),l(i,null,{default:t(()=>[l(r(E))]),_:1})]),s("span",null,[e[14]||(e[14]=o("技术优先",-1)),l(i,null,{default:t(()=>[l(r(E))]),_:1})]),l(k,{type:"primary",plain:"",class:"apply-friend-link",onClick:D},{default:t(()=>[...e[15]||(e[15]=[o("申请友链",-1)])]),_:1})]),s("div",h,[s("span",null,[l(i,null,{default:t(()=>[l(r(G))]),_:1}),e[16]||(e[16]=o("名称：Helloqiyuan",-1))]),s("span",null,[l(i,null,{default:t(()=>[l(r(O))]),_:1}),e[17]||(e[17]=o("网址：https://yuanshen.icu",-1))]),s("span",null,[l(i,null,{default:t(()=>[l(r(P))]),_:1}),e[18]||(e[18]=o("图标：https://qiyuan-cloud-data.oss-cn-guangzhou.aliyuncs.com/pinkavatar.jpg",-1))]),s("span",null,[l(i,null,{default:t(()=>[l(r(Q))]),_:1}),e[19]||(e[19]=o("描述：这个人很简单，没什么好说的",-1))])]),e[20]||(e[20]=s("span",{class:"tips"}," 温馨提示：本站友链随机排列，不定时清除失效友链，如恢复正常可留言或重新申请友链。 ",-1))]),_:1}),s("div",ee,[(q(!0),c(K,null,T(w.value,n=>(q(),c("a",{class:"friend-link-item",key:n.id,href:n.url,target:"_blank"},[s("div",te,[s("img",{src:n.img,alt:""},null,8,ae),o(" "+F(n.name),1)]),s("div",ne,F(n.description),1)],8,le))),128))]),l(N,{modelValue:g.value,"onUpdate:modelValue":e[5]||(e[5]=n=>g.value=n),title:"申请友链",width:"600px",onClose:y},{footer:t(()=>[l(k,{onClick:y},{default:t(()=>[...e[21]||(e[21]=[o("取 消",-1)])]),_:1}),l(k,{type:"primary",onClick:U,loading:V.value},{default:t(()=>[...e[22]||(e[22]=[o("提 交",-1)])]),_:1},8,["loading"])]),default:t(()=>[l(A,{model:a,"label-width":"90px",rules:C,ref_key:"formRef",ref:u},{default:t(()=>[l(m,{label:"网站名称",prop:"name"},{default:t(()=>[l(p,{modelValue:a.name,"onUpdate:modelValue":e[0]||(e[0]=n=>a.name=n),maxlength:"60",placeholder:"请输入网站名称"},null,8,["modelValue"])]),_:1}),l(m,{label:"联系邮箱",prop:"authorEmail"},{default:t(()=>[l(p,{modelValue:a.authorEmail,"onUpdate:modelValue":e[1]||(e[1]=n=>a.authorEmail=n),placeholder:"审核结果将通过邮箱发送给您（邮箱不对外使用)"},null,8,["modelValue"])]),_:1}),l(m,{label:"网站网址",prop:"url"},{default:t(()=>[l(p,{modelValue:a.url,"onUpdate:modelValue":e[2]||(e[2]=n=>a.url=n),placeholder:"请输入网站地址(http://或https://)"},null,8,["modelValue"])]),_:1}),l(m,{label:"网站图标",prop:"img"},{default:t(()=>[l(p,{modelValue:a.img,"onUpdate:modelValue":e[3]||(e[3]=n=>a.img=n),placeholder:"请输入网站图标地址(http://或https://)"},null,8,["modelValue"])]),_:1}),l(m,{label:"网站描述",prop:"description"},{default:t(()=>[l(p,{modelValue:a.description,"onUpdate:modelValue":e[4]||(e[4]=n=>a.description=n),type:"textarea",rows:3,placeholder:"请输入网站描述"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])),[[H,b.value]])}}}),fe=W(se,[["__scopeId","data-v-9da426a0"]]);export{fe as default};
